import{o as i}from"./index-D5MxA1od.js";var c={wrapper:"react-tag-input",input:"react-tag-input__input",tag:"react-tag-input__tag",tagContent:"react-tag-input__tag__content",tagRemove:"react-tag-input__tag__remove",tagRemoveReadOnly:"react-tag-input__tag__remove-readonly"};function R(o){return o.replace(/(\r\n|\n|\r)/gm,"")}var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function x(o){return String(o).replace(/[&<>"'`=\/]/g,function(a){return O[a]})}function m(o){return x(R(o))}var C=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T=function(o){C(a,o);function a(){var e=o!==null&&o.apply(this,arguments)||this;return e.focused=!1,e.removed=!1,e.preFocusedValue="",e.onPaste=function(t){t.preventDefault();var n=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,m(n))},e.onFocus=function(){e.preFocusedValue=e.getValue(),e.focused=!0},e.onBlur=function(){e.focused=!1;var t=e.props.innerEditableRef.current,n=e.props,r=n.validator,u=n.change;if(!e.removed&&t){if(t.innerText===""){e.props.remove();return}if(r){var s=r(e.getValue());if(!s){t.innerText=e.preFocusedValue;return}}u(t.innerText)}},e.onKeyDown=function(t){if(t.keyCode===13){t.preventDefault(),e.focusInputRef();return}var n=e.props.removeOnBackspace,r=e.getValue();if(n&&t.keyCode===8&&r===""){e.removed=!0,e.props.remove(),e.focusInputRef();return}},e.getValue=function(){var t=e.getRef();return t?t.innerText:""},e.getRef=function(){return e.props.innerEditableRef.current},e.focusInputRef=function(){var t=e.props.inputRef;t&&t.current&&t.current.focus()},e}return a.prototype.componentDidMount=function(){this.preFocusedValue=this.getValue()},a.prototype.render=function(){var e=this.props,t=e.value,n=e.className,r=e.innerEditableRef;return i.createElement("div",{ref:r,className:n,contentEditable:!0,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,dangerouslySetInnerHTML:{__html:m(t)}})},a}(i.Component),E=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k=function(o){E(a,o);function a(){var e=o!==null&&o.apply(this,arguments)||this;return e.innerEditableRef=i.createRef(),e.remove=function(){return e.props.remove(e.props.index)},e}return a.prototype.render=function(){var e=this.props,t=e.value,n=e.index,r=e.editable,u=e.inputRef,s=e.validator,p=e.update,f=e.readOnly,l=e.removeOnBackspace,v=f?c.tagRemove+" "+c.tagRemoveReadOnly:c.tagRemove;return i.createElement("div",{className:c.tag},!r&&i.createElement("div",{className:c.tagContent},t),r&&i.createElement(T,{value:t,inputRef:u,innerEditableRef:this.innerEditableRef,className:c.tagContent,change:function(d){return p(n,d)},remove:this.remove,validator:s,removeOnBackspace:l}),i.createElement("div",{className:v,onClick:this.remove}))},a}(i.Component),w=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D=function(o){w(a,o);function a(){var e=o!==null&&o.apply(this,arguments)||this;return e.state={input:""},e.inputRef=i.createRef(),e.onInputChange=function(t){e.setState({input:t.target.value})},e.onInputKeyDown=function(t){var n=e.state.input,r=e.props,u=r.validator,s=r.removeOnBackspace;if(t.keyCode===13){if(t.preventDefault(),n==="")return;var p=u!==void 0?u(n):!0;if(!p)return;e.addTag(n)}else if(s&&(t.keyCode===8||t.keyCode===46)){if(n!=="")return;e.removeTag(e.props.tags.length-1)}},e.addTag=function(t){var n=e.props.tags.slice();n.push(t),e.props.onChange(n),e.setState({input:""})},e.removeTag=function(t){var n=e.props.tags.slice();n.splice(t,1),e.props.onChange(n)},e.updateTag=function(t,n){var r=e.props.tags.slice();r[t]=n,e.props.onChange(r)},e}return a.prototype.render=function(){var e=this,t=this.state.input,n=this.props,r=n.tags,u=n.placeholder,s=n.maxTags,p=n.editable,f=n.readOnly,l=n.validator,v=n.removeOnBackspace,d=s!==void 0?r.length>=s:!1,_=f?!1:p||!1,h=!f&&!d;return i.createElement("div",{className:c.wrapper},r.map(function(y,g){return i.createElement(k,{key:g,value:y,index:g,editable:_,readOnly:f||!1,inputRef:e.inputRef,update:e.updateTag,remove:e.removeTag,validator:l,removeOnBackspace:v})}),h&&i.createElement("input",{ref:this.inputRef,value:t,className:c.input,placeholder:u||"Type and press enter",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown}))},a}(i.Component);export{D as R};
